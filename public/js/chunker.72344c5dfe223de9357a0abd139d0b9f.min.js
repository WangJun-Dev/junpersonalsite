let new_inner="",article=document.querySelector("article");const toc_headings_depth=5;console.log(toc_headings_depth);let toc_headings_selector;switch(toc_headings_depth){case 1:toc_headings_selector="article h1:not(.article-title)";break;case 2:toc_headings_selector="article h1:not(.article-title), article h2";break;case 3:toc_headings_selector="article h1:not(.article-title), article h2, article h3";break;case 4:toc_headings_selector="article h1:not(.article-title), article h2, article h3, article h4";break;case 5:toc_headings_selector="article h1:not(.article-title), article h2, article h3, article h4, article h5";break;default:toc_headings_selector="article h1:not(.article-title), article h2, article h3, article h4, article h5, article h6"}console.log(toc_headings_selector);let headers=document.querySelectorAll(toc_headings_selector),headersArr=Array.prototype.slice.call(headers),child=article.firstElementChild;for(;child!=null&&!headersArr.includes(child.firstElementChild);)new_inner=new_inner+child.outerHTML,child=child.nextElementSibling;headers.forEach(e=>{let n=e.parentElement;new_inner=new_inner+'<div class="text-chunk">',new_inner=new_inner+e.parentElement.outerHTML;let t=n.nextElementSibling;for(;t!=null&&!headersArr.includes(t.firstElementChild);)new_inner=new_inner+t.outerHTML,t=t.nextElementSibling;new_inner=new_inner+"</div>"}),article.innerHTML=new_inner